<div class="max-w-md mx-auto bg-white p-6 rounded-lg shadow-md h-full w-full">
    <h2 class="text-lg font-semibold mb-4">Add User</h2>
    <form id="addUserForm">
        <div class="mb-4">
            <label class="block text-sm font-medium text-gray-700 mb-4">Name</label>
            <input type="text" id="name" placeholder="Enter name" class="w-full input input-neutral p-2 border border-gray-300 rounded-md">
        </div>
        <div class="mb-4">
            <label class="block text-sm font-medium text-gray-700 mb-4">Email</label>
            <input type="email" id="email" placeholder="Enter email" class="w-full input input-neutral p-2 border border-gray-300 rounded-md">
        </div>
        <div class="mb-4">
            <label class="block text-sm font-medium text-gray-700 mb-4">Phone</label>
            <input type="number" id="phone" placeholder="Enter phone number" class="w-full input input-neutral p-2 border border-gray-300 rounded-md">
        </div>

        <div class="mb-4">
            <label class="block text-sm font-medium text-gray-700 mb-4">Company</label>
            <input type="text" id="company" placeholder="Enter Company name" class="w-full input input-neutral p-2 border border-gray-300 rounded-md">
        </div>

        <div class="mb-4">
            <label class="block text-sm font-medium text-gray-700 mb-4">Department</label>
            <input type="text" id="department" placeholder="Enter Department name" class="w-full input input-neutral p-2 border border-gray-300 rounded-md">
        </div>

        <div class="mb-4">
            <label class="block text-sm font-medium text-gray-700 mb-4">Role</label>
            <select id="role" class="w-full input input-neutral p-2 border rounded-md">
                <option value="user">User</option>
                <option value="admin">Admin</option>
            </select>
        </div>

        <button type="submit" class="w-full bg-blue-500 text-white p-2 rounded-md hover:bg-blue-600 mt-6">
            Add User
        </button>
    </form>
</div>

<script>
    document.getElementById('addUserForm').addEventListener('submit', async function (e) {
        e.preventDefault();

        // Get input values
        const name = document.getElementById('name').value;
        const email = document.getElementById('email').value;
        const phone = document.getElementById('phone').value;
        const company = document.getElementById('company').value;
        const department = document.getElementById('department').value;
        const role = document.getElementById('role').value;

        const userData = {
            name,
            email,
            phone,
            company,
            department,
            role
        };

        try {
            const response = await fetch('https://localhost:5001/api/User/Create', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(userData)
            });

            const result = await response.json();

            if (result.status) {
                alert("User added successfully!");
                // Optionally, reset the form after success
                document.getElementById('addUserForm').reset();
            } else {
                alert("Failed to add user.");
            }
        } catch (error) {
            console.error("Error adding user:", error);
            alert("An error occurred. Please try again.");
        }
    });
</script>
